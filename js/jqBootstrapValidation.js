(function(e){var s=[],t={options:{prependExistingHelpBlock:!1,sniffHtml:!0,preventSubmit:!0,submitError:!1,submitSuccess:!1,semanticallyStrict:!1,autoAdd:{helpBlocks:!0},filter:function(){return!0}},methods:{init:function(i){var r,c,a=e.extend(!0,{},t);return a.options=e.extend(!0,a.options,i),r=this,c=e.unique(r.map(function(){return e(this).parents("form")[0]}).toArray()),e(c).bind("submit",function(t){var n=e(this),o=0,s=n.find("input,textarea,select").not("[type=submit],[type=image]").filter(a.options.filter);s.trigger("submit.validation").trigger("validationLostFocus.validation"),s.each(function(t,n){var i=e(n),s=i.parents(".form-group, .checkbox").first();s.hasClass("warning")&&(s.removeClass("warning").addClass("error"),o++)}),s.trigger("validationLostFocus.validation"),o?(a.options.preventSubmit&&t.preventDefault(),n.addClass("error"),e.isFunction(a.options.submitError)&&a.options.submitError(n,t,s.jqBootstrapValidation("collectErrors",!0))):(n.removeClass("error"),e.isFunction(a.options.submitSuccess)&&a.options.submitSuccess(n,t))}),this.each(function(){var i,d,u,h,m,f,t=e(this),c=t.parents(".form-group, .checkbox").first(),r=c.find(".help-block").first(),p=t.parents("form").first(),l=[];!r.length&&a.options.autoAdd&&a.options.autoAdd.helpBlocks&&(r=e('<div class="help-block" />'),c.append(r),s.push(r[0])),a.options.sniffHtml&&(i="",t.attr("pattern")!==void 0&&(i="Not in the expected format<!-- data-validation-pattern-message to override -->",t.data("validationPatternMessage")&&(i=t.data("validationPatternMessage")),t.data("validationPatternMessage",i),t.data("validationPatternRegex",t.attr("pattern"))),(t.attr("max")!==void 0||t.attr("aria-valuemax")!==void 0)&&(m=t.attr("max")!==void 0?t.attr("max"):t.attr("aria-valuemax"),i="Too high: Maximum of '"+m+"'<!-- data-validation-max-message to override -->",t.data("validationMaxMessage")&&(i=t.data("validationMaxMessage")),t.data("validationMaxMessage",i),t.data("validationMaxMax",m)),(t.attr("min")!==void 0||t.attr("aria-valuemin")!==void 0)&&(f=t.attr("min")!==void 0?t.attr("min"):t.attr("aria-valuemin"),i="Too low: Minimum of '"+f+"'<!-- data-validation-min-message to override -->",t.data("validationMinMessage")&&(i=t.data("validationMinMessage")),t.data("validationMinMessage",i),t.data("validationMinMin",f)),t.attr("maxlength")!==void 0&&(i="Too long: Maximum of '"+t.attr("maxlength")+"' characters<!-- data-validation-maxlength-message to override -->",t.data("validationMaxlengthMessage")&&(i=t.data("validationMaxlengthMessage")),t.data("validationMaxlengthMessage",i),t.data("validationMaxlengthMaxlength",t.attr("maxlength"))),t.attr("minlength")!==void 0&&(i="Too short: Minimum of '"+t.attr("minlength")+"' characters<!-- data-validation-minlength-message to override -->",t.data("validationMinlengthMessage")&&(i=t.data("validationMinlengthMessage")),t.data("validationMinlengthMessage",i),t.data("validationMinlengthMinlength",t.attr("minlength"))),(t.attr("required")!==void 0||t.attr("aria-required")!==void 0)&&(i=a.builtInValidators.required.message,t.data("validationRequiredMessage")&&(i=t.data("validationRequiredMessage")),t.data("validationRequiredMessage",i)),t.attr("type")!==void 0&&t.attr("type").toLowerCase()==="number"&&(i=a.builtInValidators.number.message,t.data("validationNumberMessage")&&(i=t.data("validationNumberMessage")),t.data("validationNumberMessage",i)),t.attr("type")!==void 0&&t.attr("type").toLowerCase()==="email"&&(i="Not a valid email address<!-- data-validator-validemail-message to override -->",t.data("validationValidemailMessage")?i=t.data("validationValidemailMessage"):t.data("validationEmailMessage")&&(i=t.data("validationEmailMessage")),t.data("validationValidemailMessage",i)),t.attr("minchecked")!==void 0&&(i="Not enough options checked; Minimum of '"+t.attr("minchecked")+"' required<!-- data-validation-minchecked-message to override -->",t.data("validationMincheckedMessage")&&(i=t.data("validationMincheckedMessage")),t.data("validationMincheckedMessage",i),t.data("validationMincheckedMinchecked",t.attr("minchecked"))),t.attr("maxchecked")!==void 0&&(i="Too many options checked; Maximum of '"+t.attr("maxchecked")+"' required<!-- data-validation-maxchecked-message to override -->",t.data("validationMaxcheckedMessage")&&(i=t.data("validationMaxcheckedMessage")),t.data("validationMaxcheckedMessage",i),t.data("validationMaxcheckedMaxchecked",t.attr("maxchecked")))),t.data("validation")!==void 0&&(l=t.data("validation").split(",")),e.each(t.data(),function(e){var n=e.replace(/([A-Z])/g,",$1").split(",");n[0]==="validation"&&n[1]&&l.push(n[1])}),h=l,u=[];do e.each(l,function(e,t){l[e]=n(t)}),l=e.unique(l),u=[],e.each(h,function(s,o){if(t.data("validation"+o+"Shortcut")!==void 0)e.each(t.data("validation"+o+"Shortcut").split(","),function(e,t){u.push(t)});else if(a.builtInValidators[o.toLowerCase()]){var i=a.builtInValidators[o.toLowerCase()];i.type.toLowerCase()==="shortcut"&&e.each(i.shortcut.split(","),function(e,t){t=n(t),u.push(t),l.push(t)})}}),h=u;while(h.length>0)d={},e.each(l,function(s,o){var c,l,r=t.data("validation"+o+"Message"),u=r!==void 0,i=!1,r=r||"'"+o+"' validation failed <!-- Add attribute 'data-validation-"+o.toLowerCase()+"-message' to input to change this message -->";e.each(a.validatorTypes,function(s,a){d[s]===void 0&&(d[s]=[]),!i&&t.data("validation"+o+n(a.name))!==void 0&&(d[s].push(e.extend(!0,{name:n(a.name),message:r},a.init(t,o))),i=!0)}),!i&&a.builtInValidators[o.toLowerCase()]&&(c=e.extend(!0,{},a.builtInValidators[o.toLowerCase()]),u&&(c.message=r),l=c.type.toLowerCase(),l==="shortcut"?i=!0:e.each(a.validatorTypes,function(s,a){d[s]===void 0&&(d[s]=[]),!i&&l===s.toLowerCase()&&(t.data("validation"+o+n(a.name),c[a.name.toLowerCase()]),d[l].push(e.extend(c,a.init(t,o))),i=!0)})),i||e.error("Cannot find validation info for '"+o+"'")}),r.data("original-contents",r.data("original-contents")?r.data("original-contents"):r.html()),r.data("original-role",r.data("original-role")?r.data("original-role"):r.attr("role")),c.data("original-classes",c.data("original-clases")?c.data("original-classes"):c.attr("class")),t.data("original-aria-invalid",t.data("original-aria-invalid")?t.data("original-aria-invalid"):t.attr("aria-invalid")),t.bind("validation.validation",function(n,s){var i=o(t),r=[];return e.each(d,function(n,o){(i||i.length||s&&s.includeEmpty||!!a.validatorTypes[n].blockSubmit&&s&&!!s.submitting)&&e.each(o,function(e,s){a.validatorTypes[n].validate(t,i,s)&&r.push(s.message)})}),r}),t.bind("getValidators.validation",function(){return d}),t.bind("submit.validation",function(){return t.triggerHandler("change.validation",{submitting:!0})}),t.bind(["keyup","focus","blur","click","keydown","keypress","change"].join(".validation ")+".validation",function(n,s){var l=o(t),i=[];c.find("input,textarea,select").each(function(n,o){var a,r=i.length;e.each(e(o).triggerHandler("validation.validation",s),function(e,t){i.push(t)}),i.length>r?e(o).attr("aria-invalid","true"):(a=t.data("original-aria-invalid"),e(o).attr("aria-invalid",a!==void 0&&a))}),p.find("input,select,textarea").not(t).not('[name="'+t.attr("name")+'"]').trigger("validationLostFocus.validation"),i=e.unique(i.sort()),i.length?(c.removeClass("success error").addClass("warning"),a.options.semanticallyStrict&&i.length===1?r.html(i[0]+(a.options.prependExistingHelpBlock?r.data("original-contents"):"")):r.html('<ul class="list-unstyled alert alert-warning" role="alert"><li>'+i.join("</li><li>")+"</li></ul>"+(a.options.prependExistingHelpBlock?r.data("original-contents"):""))):(c.removeClass("warning error success"),l.length>0&&c.addClass("success"),r.html(r.data("original-contents"))),n.type==="blur"&&c.removeClass("success")}),t.bind("validationLostFocus.validation",function(){c.removeClass("success")})})},destroy:function(){return this.each(function(){var t=e(this),o=t.parents(".form-group, .checkbox").first(),n=o.find(".help-block").first();t.unbind(".validation"),n.html(n.data("original-contents")),o.attr("class",o.data("original-classes")),t.attr("aria-invalid",t.data("original-aria-invalid")),n.attr("role",t.data("original-role")),s.indexOf(n[0])>-1&&n.remove()})},collectErrors:function(){var n={};return this.each(function(t,s){var o=e(s),i=o.attr("name"),a=o.triggerHandler("validation.validation",{includeEmpty:!0});n[i]=e.extend(!0,a,n[i])}),e.each(n,function(e,t){t.length===0&&delete n[e]}),n},hasErrors:function(){var t=[];return this.each(function(n,s){t=t.concat(e(s).triggerHandler("getValidators.validation")?e(s).triggerHandler("validation.validation",{submitting:!0}):[])}),t.length>0},override:function(n){t=e.extend(!0,t,n)}},validatorTypes:{callback:{name:"callback",init:function(e,t){return{validatorName:t,callback:e.data("validation"+t+"Callback"),lastValue:e.val(),lastValid:!0,lastFinished:!0}},validate:function(e,t,n){if(n.lastValue===t&&n.lastFinished)return!n.lastValid;if(n.lastFinished===!0){n.lastValue=t,n.lastValid=!0,n.lastFinished=!1;var s=n,o=e;a(n.callback,window,e,t,function(e){s.lastValue===e.value&&(s.lastValid=e.valid,e.message&&(s.message=e.message),s.lastFinished=!0,o.data("validation"+s.validatorName+"Message",s.message),setTimeout(function(){o.trigger("change.validation")},1))})}return!1}},ajax:{name:"ajax",init:function(e,t){return{validatorName:t,url:e.data("validation"+t+"Ajax"),lastValue:e.val(),lastValid:!0,lastFinished:!0}},validate:function(t,n,s){return""+s.lastValue===""+n&&s.lastFinished===!0?s.lastValid===!1:(s.lastFinished===!0&&(s.lastValue=n,s.lastValid=!0,s.lastFinished=!1,e.ajax({url:s.url,data:"value="+n+"&field="+t.attr("name"),dataType:"json",success:function(e){""+s.lastValue===""+e.value&&(s.lastValid=!!e.valid,e.message&&(s.message=e.message),s.lastFinished=!0,t.data("validation"+s.validatorName+"Message",s.message),setTimeout(function(){t.trigger("change.validation")},1))},failure:function(){s.lastValid=!0,s.message="ajax call failed",s.lastFinished=!0,t.data("validation"+s.validatorName+"Message",s.message),setTimeout(function(){t.trigger("change.validation")},1)}})),!1)}},regex:{name:"regex",init:function(e,t){return{regex:i(e.data("validation"+t+"Regex"))}},validate:function(e,t,n){return!n.regex.test(t)&&!n.negative||n.regex.test(t)&&n.negative}},required:{name:"required",init:function(){return{}},validate:function(e,t,n){return t.length===0&&!n.negative||!!(t.length>0&&n.negative)},blockSubmit:!0},match:{name:"match",init:function(e,t){var n=e.parents("form").first().find('[name="'+e.data("validation"+t+"Match")+'"]').first();return n.bind("validation.validation",function(){e.trigger("change.validation",{submitting:!0})}),{element:n}},validate:function(e,t,n){return t!==n.element.val()&&!n.negative||t===n.element.val()&&n.negative},blockSubmit:!0},max:{name:"max",init:function(e,t){return{max:e.data("validation"+t+"Max")}},validate:function(e,t,n){return parseFloat(t,10)>parseFloat(n.max,10)&&!n.negative||parseFloat(t,10)<=parseFloat(n.max,10)&&n.negative}},min:{name:"min",init:function(e,t){return{min:e.data("validation"+t+"Min")}},validate:function(e,t,n){return parseFloat(t)<parseFloat(n.min)&&!n.negative||parseFloat(t)>=parseFloat(n.min)&&n.negative}},maxlength:{name:"maxlength",init:function(e,t){return{maxlength:e.data("validation"+t+"Maxlength")}},validate:function(e,t,n){return t.length>n.maxlength&&!n.negative||t.length<=n.maxlength&&n.negative}},minlength:{name:"minlength",init:function(e,t){return{minlength:e.data("validation"+t+"Minlength")}},validate:function(e,t,n){return t.length<n.minlength&&!n.negative||t.length>=n.minlength&&n.negative}},maxchecked:{name:"maxchecked",init:function(e,t){var n=e.parents("form").first().find('[name="'+e.attr("name")+'"]');return n.bind("click.validation",function(){e.trigger("change.validation",{includeEmpty:!0})}),{maxchecked:e.data("validation"+t+"Maxchecked"),elements:n}},validate:function(e,t,n){return n.elements.filter(":checked").length>n.maxchecked&&!n.negative||n.elements.filter(":checked").length<=n.maxchecked&&n.negative},blockSubmit:!0},minchecked:{name:"minchecked",init:function(e,t){var n=e.parents("form").first().find('[name="'+e.attr("name")+'"]');return n.bind("click.validation",function(){e.trigger("change.validation",{includeEmpty:!0})}),{minchecked:e.data("validation"+t+"Minchecked"),elements:n}},validate:function(e,t,n){return n.elements.filter(":checked").length<n.minchecked&&!n.negative||n.elements.filter(":checked").length>=n.minchecked&&n.negative},blockSubmit:!0}},builtInValidators:{email:{name:"Email",type:"shortcut",shortcut:"validemail"},validemail:{name:"Validemail",type:"regex",regex:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,10}",message:"Not a valid email address<!-- data-validator-validemail-message to override -->"},passwordagain:{name:"Passwordagain",type:"match",match:"password",message:"Does not match the given password<!-- data-validator-paswordagain-message to override -->"},positive:{name:"Positive",type:"shortcut",shortcut:"number,positivenumber"},negative:{name:"Negative",type:"shortcut",shortcut:"number,negativenumber"},number:{name:"Number",type:"regex",regex:"([+-]?\\d+(\\.\\d*)?([eE][+-]?[0-9]+)?)?",message:"Must be a number<!-- data-validator-number-message to override -->"},integer:{name:"Integer",type:"regex",regex:"[+-]?\\d+",message:"No decimal places allowed<!-- data-validator-integer-message to override -->"},positivenumber:{name:"Positivenumber",type:"min",min:0,message:"Must be a positive number<!-- data-validator-positivenumber-message to override -->"},negativenumber:{name:"Negativenumber",type:"max",max:0,message:"Must be a negative number<!-- data-validator-negativenumber-message to override -->"},required:{name:"Required",type:"required",message:"This is required<!-- data-validator-required-message to override -->"},checkone:{name:"Checkone",type:"minchecked",minchecked:1,message:"Check at least one option<!-- data-validation-checkone-message to override -->"}}},n=function(e){return e.toLowerCase().replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()})},o=function(t){var n=t.val(),s=t.attr("type");return s==="checkbox"&&(n=t.is(":checked")?n:""),s==="radio"&&(n=e('input[name="'+t.attr("name")+'"]:checked').length>0?n:""),n};function i(e){return new RegExp("^"+e+"$")}function a(e,t){for(var o=Array.prototype.slice.call(arguments).splice(2),n=e.split("."),i=n.pop(),s=0;s<n.length;s++)t=t[n[s]];return t[i].apply(this,o)}e.fn.jqBootstrapValidation=function(n){return t.methods[n]?t.methods[n].apply(this,Array.prototype.slice.call(arguments,1)):typeof n=="object"||!n?t.methods.init.apply(this,arguments):(e.error("Method "+n+" does not exist on jQuery.jqBootstrapValidation"),null)},e.jqBootstrapValidation=function(){e(":input").not("[type=image],[type=submit]").jqBootstrapValidation.apply(this,arguments)}})(jQuery)